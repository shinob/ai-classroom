# TASKS

最新ソースコードに基づく実装タスク状況。

## 完了済み

### 基盤
- [x] モノレポ構成（`frontend` / `backend`）
- [x] Hono + WebSocket サーバー実装
- [x] Prisma + SQLite 構成

### 授業生成・保存
- [x] 教員/生徒キャラクター生成
- [x] 授業セッション作成API
- [x] 発言ログ保存API
- [x] 授業一覧・個別取得・削除API

### 管理画面・導線
- [x] トップページをログ閲覧専用に分離
- [x] `/admin` 管理画面を追加
- [x] 学年先行選択（小1〜高3）
- [x] 学年に応じたトピック選択
- [x] 選択内容を反映した授業生成

### 授業進行
- [x] 45分タイムライン進行
- [x] フェーズ管理（開始/導入/展開1/展開2/まとめ/終了）
- [x] 教員主導確率・質疑応答フロー
- [x] 教員発話の重複抑止（完全一致 + 近似一致）

### Ollama連携
- [x] 教員/生徒発話生成
- [x] `lessonGoal` 説明文生成
- [x] 目標説明を授業プロンプトへ反映
- [x] タイムアウト・リトライ・フォールバック実装

### リプレイ
- [x] 時系列再生
- [x] シーク・再生速度変更
- [x] リプレイ時の会話読み上げ機能

## 対応中 / 今後
- [ ] `goalExplanation` 保存の完全移行（Prisma Client/DB差分を解消）
- [ ] エラー時のUI詳細化（失敗理由の分類表示）
- [ ] 自動テスト拡充（API/シミュレーション/画面遷移）
- [ ] 運用向けドキュメント（デプロイ手順、監視、障害対応）
